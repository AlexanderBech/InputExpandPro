//
//  jquery.input-expand-pro.js
//  Auto expanding Plugin Version 1.0
//	Auto expanding Plugin for Auto expanding inputs and textareas
//
//  Forked by Alexander Bech on 2013-08-16 - https://github.com/AlexanderBech/InputExpandPro
//
//  Created by Robbie Bardijn on 2012-12-03.
//  Copyright 2012 Robbie Bardijn. All rights reserved.
//
(function(e){var t={width:20,height:20};e.fn.autoExpand=function(n){function i(t){t.prev().html(o(t.val())).end().width(function(){return r.width+e(this).prev().width()})}function s(t){t.prev().html(o(t.val(),true)).end().width(function(){return r.width+e(this).prev().width()}).height(function(){return r.height+e(this).prev().height()})}function o(e,t){if(t===undefined){t=false}else{t=t}e=e.replace(/(\ )/g,"!");if(t){e=e.replace(/(\n)/g,"<br />")}return e}function u(t){if(t.is("input")){t.keydown(function(t){i(e(this))}).keyup(function(){i(e(this))})}if(t.is("textarea")){t.keydown(function(t){s(e(this))}).keyup(function(){s(e(this))})}}function a(t){if(t.is("input")){t.each(function(){e(this).before('<span class="behind"></span>');if(e(this).val()!==""){i(e(this))}})}if(t.is("textarea")){t.each(function(){e(this).before('<span class="behind"></span>');if(e(this).val()!==""){s(e(this))}})}}var r=e.extend({},t,n);return this.each(function(){a(e(this));u(e(this))})}})(jQuery);
